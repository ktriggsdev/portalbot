"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
const node_stream_1 = __importDefault(require("node:stream"));
const BPS = 192000;
// const SILENCE_FRAME = Buffer.from([0xf8, 0xff, 0xfe]);
class AudioSkipper extends node_stream_1.default.Writable {
    constructor(source, skipSeconds = 1) {
        super();
        this.source = source;
        this._bytes = 0;
        this._bytes = skipSeconds * BPS;
    }
    _transform(chunk, encoding, callback) {
        if (this._bytes > 0) {
            callback(null);
            return;
        }
        this.source.unpipe(this);
        this.end();
        this.source = null;
    }
}
module.exports = AudioSkipper;
